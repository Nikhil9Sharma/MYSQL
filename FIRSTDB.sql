CREATE DATABASE IF NOT EXISTS company;
SHOW DATABASES;
USE company;

CREATE TABLE IF NOT EXISTS Worker(
	WORKER_ID INT NOT NULL PRIMARY KEY AUTO_INCREMENT,
    FIRST_NAME VARCHAR(255),
    LAST_NAME VARCHAR(255),
    SALARY INT (25),
    JOINING_DATE DATETIME,
    DEPARTMENT VARCHAR(255)
    );
INSERT INTO Worker (FIRST_NAME, LAST_NAME, SALARY, JOINING_DATE, DEPARTMENT) VALUES
				('AARYA','PANWAAR',20000,'2005-08-26 09:00:00','HR'),
				('ARPAN','MISHRA',22000,'2007-09-29 09:00:00','ADMIN'),
				('BHIM','KUMAR',25000,'2009-09-19 09:00:00','HR'),
				('DEV','GUPTA',27000,'2007-01-02 09:00:00','ADMIN'),
				('HARSH','MAAN',28000,'2011-09-12 09:00:00','ADMIN'),
				('HIMANSHU','RANA',29000,'2017-06-22 09:00:00','ACCOUNT'),
				('NIKHIL','SHARMA',32000,'2018-03-21 09:00:00','ACCOUNT'),
				('OM','SRIVASTAV',31000,'2019-09-29 09:00:00','ADMIN');
CREATE TABLE IF NOT EXISTS BONUS (
	WORKER_REF_ID INT ,
    BONUS_AMOUNT INT(10),
    BONUS_DATE DATETIME,
    FOREIGN KEY (WORKER_REF_ID)
		REFERENCES Worker (WORKER_ID)
        ON DELETE CASCADE
);
INSERT INTO BONUS (WORKER_REF_ID, BONUS_AMOUNT, BONUS_DATE) VALUES
					(1,5000,'2016-11-26 00:00:00'),
					(2,5000,'2017-11-26 00:00:00'),
					(3,5000,'2018-11-26 00:00:00'),
					(1,5000,'2019-11-26 00:00:00'),
					(7,15000,'2020-11-26 00:00:00');
CREATE TABLE Title (
	WORKER_REF_ID INT,
	WORKER_TITLE VARCHAR(255),
	AFFECTED_FROM DATETIME,
	FOREIGN KEY (WORKER_REF_ID)
	REFERENCES Worker (WORKER_ID)
	ON DELETE CASCADE
);
INSERT INTO Title (WORKER_REF_ID, WORKER_TITLE, AFFECTED_FROM) VALUES
(1,'MANAGER','2016-02-18 00:00:00'),
(2,'EXECUTIVE','2019-02-18 00:00:00'),
(8,'EXECUTIVE','2018-02-18 00:00:00'),
(5,'MANAGER','2009-02-18 00:00:00'),
(4,'ASST. MANAGER','2022-02-18 00:00:00'),
(7,'EXECUTIVE','2018-02-18 00:00:00'),
(6,'LEAD','2017-02-18 00:00:00'),
(3,'LEAD','2016-02-18 00:00:00');
